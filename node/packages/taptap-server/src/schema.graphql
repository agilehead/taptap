type EmailTemplate {
  name: String!
  subject: String!
  bodyHtml: String!
  bodyText: String!
  createdAt: String!
  updatedAt: String!
}

input RegisterEmailTemplateInput {
  name: String!
  subject: String!
  bodyHtml: String!
  bodyText: String!
}

input UpdateEmailTemplateInput {
  subject: String
  bodyHtml: String
  bodyText: String
}

input EmailRecipientInput {
  id: String!
  email: String!
  name: String!
}

input SendEmailInput {
  template: String!
  recipient: EmailRecipientInput!
  variables: String
  category: String
  contextId: String
  throttleIntervalMs: Int
  metadata: String
}

input SendRawEmailInput {
  recipient: EmailRecipientInput!
  subject: String!
  bodyHtml: String!
  bodyText: String!
  category: String
  contextId: String
  throttleIntervalMs: Int
  metadata: String
}

type SendResult {
  success: Boolean!
  error: String
  throttled: Boolean!
}

type Query {
  health: String!
  emailTemplate(name: String!): EmailTemplate
  emailTemplates: [EmailTemplate!]!
}

type Mutation {
  registerEmailTemplate(input: RegisterEmailTemplateInput!): EmailTemplate!
  updateEmailTemplate(name: String!, input: UpdateEmailTemplateInput!): EmailTemplate!
  deleteEmailTemplate(name: String!): Boolean!
  sendEmail(input: SendEmailInput!): SendResult!
  sendRawEmail(input: SendRawEmailInput!): SendResult!
}
